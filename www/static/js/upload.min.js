$(function(){function b(a){$(".container").html("");alert("Se ha subido el video correctamente, ahora seras redireccionado al inicio");setTimeout(function(){window.location.href="home.php";5E3})}function c(){$("#main").children("form").hide();$content='<h1>Se esta subiendo el video</h1>\r\n    <div class="progress">\r\n      <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="min-width: 10%;">\r\n        0%\r\n      </div>\r\n    </div>';
$("#main").append($content)}function e(a,b,c,d){$(".progress-bar").html(d+"%").css("width",d+"%")}function f(a,b,c){alert("Ha ocurrido un error subiendo el video, por favor recarga la pagina\r\n    y vuelve a intentarlo en unos minutos.")}$("#upload").submit(function(a){a=!0;10>$("#video-name").val().length&&(a=!1,alert("El contenido del campo nombre es demasiado corto.\r\n      Debe contener al menos 10 caracteres."));10>$("#video-desc").val().length&&(a=!1,alert("El contenido del campo descripcion es demasiado corto.\r\n      Debe contener al menos 10 caracteres."));
-1===$("#video-tags")[0].selectedIndex&&(a=!1,alert("Debe seleccionar al menos un tag para el video"));0===$("#video-input")[0].files.length&&(a=!1,alert("Debe seleccionar un fichero para subir"));window.File&&window.FileReader&&window.FileList&&window.Blob?524288E3<$("#video-input")[0].files[0].size&&(alert("El fichero es demasiado grande. No puede ser mayor de 500MB"),a=!1):(alert("Tu navegador no soporta nuestro sistema de subida de ficheros\r\n      Por favor, descarga la ultima version de Google Chrome o Firefox"),
a=!1);a&&(options={target:"upload.php",beforeSubmit:c,success:b,error:f,uploadProgress:e,resetForm:!1,method:"post",dataType:"html"},$(this).ajaxSubmit(options),console.log("YA?"));return!1});$("#video-input").change(function(a){$("#file-name").val(this.files[0].name)})});
